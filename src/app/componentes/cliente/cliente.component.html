<div class="animated fadeIn fast posicionPagina">

    <!--Filtro-->
    <form class=" panel ">
        <h4>Filtros</h4>
        <form [formGroup]="formaFiltro" (ngSubmit)='guardarFiltro()'>
            <div class="row">

                <div class="col col-2 ">
                    <label>Código</label>
                    <input type="number" class="form-control form-control-sm" formControlName="codigoCliente">
                </div>
                <div class="col col-2">
                    <label>Número Identificación</label>
                    <input type="number" class="form-control form-control-sm" formControlName="numeroIdentificacion">
                </div>
                <div class="col col-4 ">
                    <label>Razón Social</label>
                    <select class="form-select form-select-sm " type="text" formControlName="razonSocial" placeholder="Seleccione Departamento">
                        <option *ngFor="let cli of cliente " [value]="cli.nombre">
                            {{cli.nombre|titlecase}}
                        </option>
                    </select>
                </div>
                <div class="col col-2">
                    <label>Fecha Inicio</label>
                    <input type="date" class="form-control form-control-sm" formControlName="fechaInicio">
                </div>
                <div class="col col-2">
                    <label>Fecha Fin</label>
                    <input type="date" class="form-control form-control-sm" value="$fechaActual()" formControlName="fechaFin">
                </div>
                <div class="col" align="right">
                    <button type="button" class="btn botonConsulta " type="submit">
                        Consultar
                    </button>
                </div>
            </div>
        </form>
    </form>

    <!--Boton crear cliente-->
    <div class="col" data-toggle="modal" data-target="#ventanaCrearCliente">
        <button type="button" class="btn botonCrear" (click)="crearFormulario()">
            Crear Cliente
        </button>
    </div>

    <!--Tabla-->

    <table class="table table-bordered posicionTabla table-sm">

        <thead class="table-secondary ">
            <h4 style="padding-left: 15px;"> Resultados</h4>
            <tr>
                <th scope="col" class="text-center">Fecha de <br> Creación</th>
                <th scope="col" class="text-center">Código</th>
                <th scope="col" class="text-center">Tipo de <br> Identificación</th>
                <th scope="col" class="text-center">Número de <br> Identificación</th>
                <th scope="col" class="text-center">Razón Social</th>
                <th scope="col" class="text-center">Dirección</th>
                <th scope="col" class="text-center">Teléfono</th>
                <th scope="col" class="text-center">Sector</th>
                <th scope="col" class="text-center">Estado</th>
                <th scope="col" class="text-center">Editar</th>
            </tr>
        </thead>
        <tbody>
            <tr class="text-center">
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td>asdfghjklñ</td>
                <td class="text-center ">
                    <button class="btn btn-success botonEditar" type="button" data-toggle="modal" data-target="#ventanaEditarCliente" (click)="editarFormulario()">
                        <img  src="assets/icon/editar.png" />
                    </button>
                </td>
            </tr>

        </tbody>
    </table>

</div>


<!-- Model para crear cliente -->
<div class="modal fade tamanoLetra " id="ventanaCrearCliente" tabindex="-1" role="dialog" aria-labelledby="tituloVentanaCrearCliente" aria-hidden="true">

    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">

        <div class="modal-content">

            <div class="modal-body">

                <form [formGroup]="forma" (ngSubmit)='guardarCrear()'>

                    <h5 id="tituloVentanaCrearCliente">Crear Cliente</h5>
                    <hr class="linea">
                    <div class="row">
                        <div class="col-4">
                            <label>Código Cliente</label>
                            <input class="form-control form-control-sm" type="text" formControlName="codigoCliente" [class.is-invalid]="codigoClienteNoValido">
                        </div>
                        <div class="col-4">
                            <label>Fecha de Creación</label>
                            <input class="form-control form-control-sm" type="text" formControlName="fechaCreacion" [class.is-invalid]="fechaCreacionNoValido">
                        </div>
                        <div class="col-4">
                            <label>Estado</label>
                            <input class="form-control form-control-sm" type="text" formControlName="estado" [class.is-invalid]="estadoNoValido">
                        </div>
                        <div class="form-group col-3">
                            <label><span class="text-danger">*</span>Tipo de Identificación</label>
                            <select class="form-select form-select-sm " autocomplete="on" formControlName="tipoIdentificacion" [class.is-invalid]="tipoIdentificacionNoValido">
                                <option *ngFor="let ti of tipoIdentificacion " [value]="ti.codigo">
                                    {{ti.nombre}}
                                </option>
                            </select>
                        </div>
                        <div class="form-group col-3">
                            <label><span class="text-danger">*</span>Numero de Identificación</label>
                            <input class="form-control form-control-sm" type="numbre" min="0" formControlName="numeroIdentificacion" [class.is-invalid]="numeroIdentificacionNoValido">
                            <small *ngIf="numeroIdentificacionNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                            <small *ngIf="this.forma.get('numeroIdentificacion').errors?.validarIdentificacion" class="text-danger">
                                Existe
                            </small>
                        </div>
                        <div class="form-group col-6">
                            <label><span class="text-danger">*</span>Razón Social</label>
                            <input class="form-control form-control-sm" type="text" maxlength="40" formControlName="razonSocial" [class.is-invalid]="razonSocialNoValido">
                            <small *ngIf="razonSocialNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="col-9">
                            <label>Dirección</label>
                            <input class="form-control form-control-sm" type="text" formControlName="direccion" [class.is-invalid]="direccionNoValido">
                        </div>
                        <div class="col-3">
                            <label>Teléfono</label>
                            <input class="form-control form-control-sm" type="number" formControlName="telefono" [class.is-invalid]="telefonoNoValido">
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Departamento</label>
                            <select class="form-select form-select-sm" type="text" formControlName="departamento" [class.is-invalid]="departamentoNoValido" placeholder="Seleccione Departamento">
                                <option *ngFor="let dep of departamento " [value]="dep.codigo" (click)="servicioMunicipio()">
                                    {{dep.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="departamentoNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Municipio</label>
                            <select class="form-select form-select-sm" type="text" formControlName="municipio" [class.is-invalid]="municipioNoValido">
                                <option *ngFor="let mun of municipio " [value]="mun.codigo">
                                    {{mun.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="municipioNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Centro Poblado</label>
                            <select class="form-select form-select-sm" type="text" formControlName="centroPoblado" [class.is-invalid]="centroPobladoNoValido">
                                <option *ngFor="let cp of centroPoblado" [value]="cp.codigo">
                                    {{cp.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="centroPobladoNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="col-4">
                            <label>Sector</label>
                            <select class="form-select form-select-sm" autocomplete="on" formControlName="sector" type="text" [class.is-invalid]="sectorNoValido">
                                <option *ngFor="let sec of sector " [value]="sec.valor">
                                    {{sec.indice}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <hr class="linea">


                    <div class="form-group col-2">
                        <div class="input-group ">
                            <button class="btn botonGuardar" type="submit">Guardar</button>
                        </div>
                    </div>

                    <div class="form-group col-2">
                        <div class="input-group ">
                            <button class="btn btn-danger botonCancelar" type="button" data-dismiss="modal" (click)="cancelar()">Cancelar</button>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </div>
</div>

<!-- Model para editar cliente -->
<div class="modal fade tamanoLetra " id="ventanaEditarCliente" tabindex="-1" role="dialog" aria-labelledby="tituloVentanaEditarCliente" aria-hidden="true">

    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">

        <div class="modal-content">

            <div class="modal-body">

                <form [formGroup]="forma" (ngSubmit)='guardarEditar()'>
                    <h5 id="tituloVentanaEditarCliente">Editar Cliente</h5>
                    <hr class="linea">

                    <div class="row">
                        <div class="col-4">
                            <label>Código Cliente</label>
                            <input class="form-control form-control-sm" type="text" formControlName="codigoCliente" [class.is-invalid]="codigoClienteNoValido">
                        </div>
                        <div class="col-4">
                            <label>Fecha de Creación</label>
                            <input class="form-control form-control-sm" type="text" formControlName="fechaCreacion" [class.is-invalid]="fechaCreacionNoValido">
                        </div>
                        <div class="col-4">
                            <label>Estado</label>
                            <input class="form-control form-control-sm" type="text" formControlName="estado" [class.is-invalid]="estadoNoValido">
                        </div>
                        <div class="form-group col-3">
                            <label><span class="text-danger">*</span>Tipo de Identificación</label>
                            <select class="form-select form-select-sm" autocomplete="on" formControlName="tipoIdentificacion" [class.is-invalid]="tipoIdentificacionNoValido">
                                <option *ngFor="let ti of tipoIdentificacion " [value]="ti.codigo">
                                    {{ti.nombre}}
                                </option>
                            </select>
                            <small *ngIf="tipoIdentificacionNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-3">
                            <label><span class="text-danger">*</span>Numero de Identificación</label>
                            <input class="form-control form-control-sm" type="text" formControlName="numeroIdentificacion" [class.is-invalid]="numeroIdentificacionNoValido">
                            <small *ngIf="numeroIdentificacionNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-6">
                            <label><span class="text-danger">*</span>Razón Social</label>
                            <input class="form-control form-control-sm" type="text" formControlName="razonSocial" [class.is-invalid]="razonSocialNoValido">
                            <small *ngIf="razonSocialNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="col-9">
                            <label>Dirección</label>
                            <input class="form-control form-control-sm" type="text" formControlName="direccion" [class.is-invalid]="direccionNoValido">
                        </div>
                        <div class="col-3">
                            <label>Teléfono</label>
                            <input class="form-control form-control-sm" type="text" formControlName="telefono" [class.is-invalid]="telefonoNoValido">
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Departamento</label>
                            <select class="form-select form-select-sm" type="text" formControlName="departamento" [class.is-invalid]="departamentoNoValido" placeholder="Seleccione Departamento">
                                <option *ngFor="let dep of departamento " [value]="dep.codigo" (click)="servicioMunicipio()">
                                    {{dep.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="departamentoNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Municipio</label>
                            <select class="form-select form-select-sm" type="text" formControlName="municipio" [class.is-invalid]="municipioNoValido">
                                <option *ngFor="let mun of municipio " [value]="mun.codigo">
                                    {{mun.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="municipioNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="form-group col-4">
                            <label><span class="text-danger">*</span>Centro Poblado</label>
                            <select class="form-select form-select-sm" type="text" formControlName="centroPoblado" [class.is-invalid]="centroPobladoNoValido">
                                <option *ngFor="let cp of centroPoblado" [value]="cp.codigo">
                                    {{cp.nombre|titlecase}}
                                </option>
                            </select>
                            <small *ngIf="centroPobladoNoValido" class="text-danger">
                                Diligenciar Campo
                            </small>
                        </div>
                        <div class="col-4">
                            <label>Sector</label>
                            <select class="form-select form-select-sm" autocomplete="on" formControlName="sector" type="text" [class.is-invalid]="sectorNoValido">
                                <option *ngFor="let sec of sector " [value]="sec">
                                    {{sec}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <hr class="linea">
                    <div class="form-group col-2">
                        <div class="input-group ">
                            <button class="btn botonGuardar" type="submit">Guardar</button>
                        </div>
                    </div>
                    <div class="form-group col-2">
                        <div class="input-group ">
                            <button class="btn btn-danger botonCancelar" type="button" data-dismiss="modal" (click)="cancelar()">Cancelar</button>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </div>
</div>